<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Habibe Cakery — Availability</title>
  
    <link href="https://unpkg.com/@fullcalendar/core@6.1.15/index.global.min.css" rel="stylesheet" />
  <script src="https://unpkg.com/@fullcalendar/core@6.1.15/index.global.min.js"></script>
  <script src="https://unpkg.com/@fullcalendar/daygrid@6.1.15/index.global.min.js"></script>
  <script src="https://unpkg.com/@fullcalendar/timegrid@6.1.15/index.global.min.js"></script>
  <script src="https://unpkg.com/@fullcalendar/list@6.1.15/index.global.min.js"></script>
  <script src="https://unpkg.com/@fullcalendar/icalendar@6.1.15/index.global.min.js"></script>

<style>
  /* …keep your styles… */
  #calendar{ max-width:1100px; margin:0 auto; border:1px solid #eadede; border-radius:14px; overflow:hidden; box-shadow:0 6px 18px rgba(0,0,0,.05); min-height:640px; }
</style>

</head>
<body>
  <h1>Habibe Cakery — Availability</h1>
  <div id="calendar"></div>

<script>
  const ICS_URL = "https://ics.habibecakery.co";
  document.addEventListener('DOMContentLoaded', function () {
    const cal = new FullCalendar.Calendar(document.getElementById('calendar'), {
      timeZone: 'Europe/London',
      initialView: 'dayGridMonth',
      headerToolbar: { left:'prev,next today', center:'title', right:'dayGridMonth,timeGridWeek,listMonth' },
      // ⬇️ use these globals (not FullCalendar.dayGridPlugin, etc.)
      plugins: [ dayGridPlugin, timeGridPlugin, listPlugin, icalendarPlugin ],
      eventSources: [{ url: ICS_URL + '?cb=' + Math.floor(Date.now()/300000), format: 'ics' }],
      firstDay: 1,
      eventDisplay: 'block'
    });
    cal.render();
  });
</script>

</body>
</html>
