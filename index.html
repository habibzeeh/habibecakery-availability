<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Habibe Cakery Availability</title>
  <meta name="description" content="Live availability calendar for Habibe Cakery." />

  <!-- FullCalendar (CSS + JS via CDN) -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/icalendar@6.1.11/index.global.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/multimonth@6.1.11/index.global.min.js"></script>

  <style>
    :root{
      --bg: #fff7fa;          /* soft pink page backdrop */
      --card: #ffffff;        /* calendar card */
      --ink: #2a2a2a;         /* text */
      --sub: #6b6b6b;         /* subtext */
      --brand: #f9dde3;       /* brand accent (light rose) */
      --brand-ink:#b6036b;    /* darker rose (for emphasis) */
      --shadow: 0 10px 28px rgba(0,0,0,.07);
      --radius: 22px;
      --border: 1px solid #f3dbe7;
    }
    /* Page */
    *{ box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, Apple Color Emoji, Segoe UI, Roboto, Helvetica, Arial, Noto Sans;
      color: var(--ink);
      background:
        radial-gradient(1200px 800px at 90% -10%, #fff0e6 10%, transparent 60%),
        radial-gradient(1000px 700px at -10% 110%, #ffeaf3 10%, transparent 55%),
        var(--bg);
    }

    /* Card wrapper */
    .wrap{
      max-width: 1080px;
      margin: clamp(16px, 3vw, 36px) auto;
      padding: clamp(14px, 2.5vw, 28px);
    }
    .card{
      background: var(--card);
      border: var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    header{
      padding: 22px clamp(16px, 3vw, 28px);
      display:flex; align-items:center; gap:16px;
      justify-content: space-between; flex-wrap: wrap;
      border-bottom: 1px solid #f4e3ec;
      background: linear-gradient(180deg, #fff9fb 0%, #fff 100%);
    }
    .title{
      font-size: clamp(18px, 2.1vw, 24px);
      font-weight: 700;
      color:#a60c64;
      display:flex; align-items:center; gap:10px;
    }
    .subtitle{
      color: var(--sub);
      font-size: 14px;
      margin-top: 2px;
    }
    .legend{
      display:flex; gap:14px; align-items:center; flex-wrap:wrap;
      font-size: 13px; color:var(--sub);
    }
    .dot{
      display:inline-block; width:12px; height:12px; border-radius:3px; margin-right:6px;
      vertical-align: -1px;
    }
    .dot-available{ background:#ffffff; border:1px solid #e9d2dc; }
    .dot-booked{ background:#ffe3ee; border:1px solid #f2c1d4; }

    /* FullCalendar overrides */
    .fc {
      --fc-border-color: #f1e4eb;
      --fc-page-bg-color: transparent;
      --fc-neutral-bg-color: #fff;
      --fc-today-bg-color: #fff8fb;
      --fc-highlight-color: #fff1f7;
      --fc-event-bg-color: #ffd1e4;        /* event pill bg */
      --fc-event-border-color: #ffc3db;    /* event pill border */
      --fc-event-text-color: #3a3141;      /* event text */
    }

    .fc .fc-toolbar.fc-header-toolbar{
      padding: 12px clamp(12px, 2.2vw, 20px);
      border-bottom: 1px solid #f3e5ee;
    }
    .fc .fc-toolbar-title{
      font-weight: 800;
      color:#9b0b5c;
      letter-spacing: .2px;
    }
    .fc .fc-button{
      background: #ffe6f0;
      border: 1px solid #f5cde0;
      color:#7b0a4c;
    }
    .fc .fc-button-primary:not(:disabled).fc-button-active,
    .fc .fc-button-primary:focus {
      background:#ffdbea;
      border-color:#f4c3d9;
      box-shadow:none;
      color:#7b0a4c;
    }

    .fc .fc-daygrid-day.fc-day-today .fc-daygrid-day-number{
      background:#ffeef6;
      border-radius: 6px;
      padding: 2px 6px;
    }

    /* Make events pill-like and compact */
    .fc .fc-daygrid-event{
      border-radius:10px;
      padding:2px 6px;
      font-size:12px;
      line-height:1.2;
    }

    /* Footer note */
    .note{
      border-top: 1px dashed #f0d9e6;
      text-align:center;
      color:var(--sub);
      font-size:13px;
      padding: 12px;
      background: linear-gradient(180deg, #fff 0%, #fff7fb 100%);
    }

    /* Hide FullCalendar watermark if it ever appears (normally it doesn‚Äôt on the CDN build) */
    .fc-license-message{ display:none !important; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <header>
        <div>
          <div class="title">üç∞ Habibe Cakery Availability</div>
          <div class="subtitle">Check our calendar before choosing your cake date ‚ú®</div>
        </div>

        <div class="legend" aria-label="Legend">
          <div><span class="dot dot-available"></span>Available</div>
          <div><span class="dot dot-booked"></span>Booked</div>
        </div>
      </header>

      <div id="calendar"></div>

      <div class="note">
        <strong>Pink dates</strong> include bookings. If the day looks clear, we‚Äôre likely available for new orders.
      </div>
    </div>
  </div>

  <script>
    // --------- CONFIG ---------
    // Paste your PUBLIC iCal / ICS URL here (Google or Apple calendar).
    // Google Calendar: Settings ‚Üí Integrate calendar ‚Üí "Public address in iCal format"
    // Apple Calendar: right-click the calendar ‚Üí Share ‚Üí Public Calendar ‚Üí Copy Link
    const ICS_URL = 'YOUR_PUBLIC_ICS_URL_HERE';

    // If you ever need the Google API route instead of ICS (CORS issues), see the fallback block below.
    // --------------------------------

    document.addEventListener('DOMContentLoaded', () => {
      const el = document.getElementById('calendar');

      // Build the calendar
      const calendar = new FullCalendar.Calendar(el, {
        plugins: [FullCalendar.icalendarPlugin, FullCalendar.multiMonthPlugin],
        initialView: 'twoMonth',               // custom view defined below
        firstDay: 1,                           // Monday
        height: 'auto',
        contentHeight: 'auto',
        expandRows: true,

        headerToolbar: {
          left: 'title',
          center: '',
          right: 'prev,next'
        },

        // Two months side-by-side (uses the multimonth plugin)
        views: {
          twoMonth: {
            type: 'multiMonth',
            duration: { months: 2 },
            multiMonthMaxColumns: 2,           // 2 columns
            multiMonthMinWidth: 300            // helps stacking on mobile
          }
        },

        // Pull events from your ICS feed
        events: {
          url: ICS_URL,
          format: 'ics'                        // important for iCal plugin
        },

        // Nice UX
        dayMaxEventRows: true,
        fixedWeekCount: false,
        navLinks: false,
        displayEventTime: false,

        // Optional: tweak how all-day bookings look
        eventDidMount: (info) => {
          // Make all-day events look like "background highlights" if you prefer:
          // if (info.event.allDay) {
          //   info.el.style.background = '#ffe3ee';
          //   info.el.style.borderColor = '#f2c1d4';
          // }
        }
      });

      calendar.render();
    });

    /* ---------- FALLBACK (if your ICS URL is blocked by CORS) ----------
       1) Create a Google API key (free) and restrict it to the Calendar API.
       2) Set your public calendar‚Äôs Calendar ID.
       3) Uncomment the block below and comment out the ICS "events" option above.
       Docs: https://fullcalendar.io/docs/google-calendar
    */

    // const GCAL_API_KEY = 'YOUR_GOOGLE_API_KEY';
    // const GCAL_CALENDAR_ID = 'yourcalendarid@group.calendar.google.com';
    //
    // const calendar = new FullCalendar.Calendar(el, {
    //   plugins: [FullCalendar.googleCalendarPlugin, FullCalendar.multiMonthPlugin],
    //   initialView: 'twoMonth',
    //   headerToolbar: { left:'title', center:'', right:'prev,next' },
    //   googleCalendarApiKey: GCAL_API_KEY,
    //   events: { googleCalendarId: GCAL_CALENDAR_ID }
    // });
  </script>
</body>
</html>
